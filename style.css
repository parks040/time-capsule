:root{
  --bg: #05060A;
  --lilac: #6B63FF;
  --text: rgba(245,245,255,0.92);
}

*{ box-sizing:border-box; }
html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  overflow:hidden;
}

body{
  position:relative;
  background: var(--bg); /* pure black */
  font-family: "Courier New", Courier, monospace;
}

/* ---------- Start Screen ---------- */
.start{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}

.start-inner{
  text-align:center;
  padding:24px;
}

.title{
  font-family: "Inter", system-ui, sans-serif;
  font-weight: 100;
  color: var(--text);
  font-size: clamp(22px, 3vw, 40px);
  letter-spacing: 0.32em; /* Roc Grotesk 느낌 내는 핵심 */
}


.hint{
  margin-top:14px;
  font-family: "Courier New", Courier, monospace;
  color: rgba(245,245,255,0.55);
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: lowercase;
}

.hidden{ display:none; }

/* ---------- Main Scene ---------- */
.scene{
  position:fixed;
  inset:0;
}

/* ---------- Memory Fragment ---------- */
.fragment{
  position:absolute;
  width: var(--w);
  height: var(--h);
  border-radius: 16px;
  overflow:hidden;
  will-change: transform, filter;
  animation: drift var(--dur) ease-in-out infinite alternate;
  filter: blur(1.2px) brightness(0.78) contrast(1.15) saturate(0.2);
}

/* duotone tint */
.fragment::after{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(35,32,98,0.35);
  mix-blend-mode: color;
  pointer-events:none;
}

.fragment img,
.fragment video{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transform: scale(1.03);
}

/* hover — memory waking */
.fragment:hover{
  filter: blur(0) brightness(0.92) contrast(1.22) saturate(0.35);
  transform: scale(1.06);
  z-index: 50;
}

/* click — brief color flash */
.fragment.flash{
  filter: none !important;
}
.fragment.flash::after{
  opacity: 0 !important;
}

/* floating motion */
@keyframes drift{
  from{
    transform: translate3d(var(--dx1), var(--dy1), 0)
               rotate(var(--r1));
  }
  to{
    transform: translate3d(var(--dx2), var(--dy2), 0)
               rotate(var(--r2));
  }
}

/* ---------- Thought Text ---------- */
.thought{
  position:fixed;
  z-index:80;
  max-width:260px;
  padding:6px 10px;
  border-radius:999px;
  background: rgba(10,12,20,0.35);
  border:1px solid rgba(245,245,255,0.12);
  color: rgba(245,245,255,0.85);
  font-family: "Courier New", Courier, monospace;
  font-size:13px;
  letter-spacing:0.02em;
  backdrop-filter: blur(6px);
  animation: thoughtFade 1.8s ease forwards;
  pointer-events:none;
}

@keyframes thoughtFade{
  0%   { opacity:0; transform: translateY(8px); }
  12%  { opacity:1; }
  70%  { opacity:1; }
  100% { opacity:0; transform: translateY(-14px); }
}

/* ---------- Glitch Mode ---------- */
body.glitch{
  animation: screenJitter 0.06s steps(2,end) infinite;
  filter: contrast(1.15) saturate(1.25);
}

@keyframes screenJitter{
  0%   { transform: translate(0,0); }
  25%  { transform: translate(2px,-2px); }
  50%  { transform: translate(-3px,2px); }
  75%  { transform: translate(2px,3px); }
  100% { transform: translate(-2px,-3px); }
}

/* ---------- Glitch Punch Text ---------- */
.punch{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:120;
  pointer-events:none;

  font-family: "Rubik Pixels", system-ui, sans-serif;
  letter-spacing: 0.12em;
  color: rgba(245,245,255,0.95);
  text-transform: uppercase;

  /* controlled size */
  font-size: clamp(36px, 5.5vw, 96px);

  mix-blend-mode: screen;
  text-shadow: 0 0 18px rgba(107,99,255,0.35);
}

.punch.glitchText{
  animation: textFlicker 0.12s steps(2,end) infinite;
}

@keyframes textFlicker{
  0%   { transform: translate(0,0); opacity:1; }
  25%  { transform: translate(3px,-2px); opacity:0.85; }
  50%  { transform: translate(-4px,3px); opacity:1; }
  75%  { transform: translate(2px,1px); opacity:0.8; }
  100% { transform: translate(-3px,-2px); opacity:1; }
}

